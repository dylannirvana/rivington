!function(o,d){"use strict";void 0!==d&&o(function(){({fields:{},init:function(){this.addShowHideClasses(),o("select#product-type").trigger("change"),this.bindEvents()},bindEvents:function(){var e=this;this.getField("allow_different_receiver").on("change",function(){e.toggleFields(["display_receiver_fields","receiver_fields_title"],o(this).prop("checked"))}).trigger("change"),this.getField("allow_custom_amount").on("change",function(){e.toggleFields(["min_custom_amount","max_custom_amount","custom_amount_step"],o(this).prop("checked"))}).trigger("change"),this.getField("preset_amounts").on("keyup",function(){e.validatePresetsAmounts(o(this))})},addShowHideClasses:function(){o("#general_product_data .pricing.show_if_simple").addClass("show_if_store_credit"),o("#general_product_data #_tax_status").closest(".show_if_simple").addClass("show_if_store_credit"),o("#inventory_product_data ._manage_stock_field").addClass("show_if_store_credit"),o("#inventory_product_data ._sold_individually_field").addClass("show_if_store_credit").closest(".options_group").addClass("show_if_store_credit")},getField:function(e){return this.fields[e]||(this.fields[e]=o("#_store_credit_"+e)),this.fields[e]},toggleFields:function(e,i){var s=this;Array.isArray(e)||(e=[e]),o.each(e,function(e,t){s.getField(t).closest(".form-field").toggle(i)})},validatePresetsAmounts:function(e){var t,i,s;"undefined"!=typeof woocommerce_admin&&(t=new RegExp("^\\d+(\\|\\d+)*\\|?$"),s=(i=e.val()).replace(/[^0-9|]/g,"").replace(/\|{2,}/g,"|"),i!==s&&e.val(s),""===i||t.test(i)?o(document.body).triggerHandler("wc_remove_error_tip",[e,"store_credit_invalid_preset_amounts"]):(woocommerce_admin.store_credit_invalid_preset_amounts=d.invalid_preset_amounts,o(document.body).triggerHandler("wc_add_error_tip",[e,"store_credit_invalid_preset_amounts"])))}}).init()})}(jQuery,wc_store_credit_admin_meta_boxes_product_params);